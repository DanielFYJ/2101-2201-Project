{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}	
    <!-- JQuery links  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- [ Main Content ] start -->
    <div class="pcoded-main-container">
        <div class="pcoded-content">
            <!-- [ breadcrumb ] start -->
            <!-- <div class="page-header">
                <div class="page-block">
                    <div class="row align-items-center">
                        <div class="col-md-12">
                            <div class="page-header-title">
                                <h5 class="m-b-10">Dashboard Analytics</h5>
                            </div>
                            <ul class="breadcrumb">
                                <li class="breadcrumb-item"><a href="index.html"><i class="feather icon-home"></i></a></li>
                                <li class="breadcrumb-item"><a href="#!">Dashboard Analytics</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div> -->
            <!-- [ breadcrumb ] end -->
            <!-- [ Main Content ] start -->
            <div class="row">
                <!-- order-card start -->
                <div class="col-md-6 col-xl-3">
                    <div class="card bg-c-blue order-card">
                        <div class="card-body">
                            <h6 class="text-white">Current Movement</h6>
                            <h2 class="text-right text-white"><i class="feather icon-shopping-cart float-left"></i><span><h4 class="sensor1"> Sensor : </h4></span></h2>
                            <p class="m-b-0">Car Movement<span class="float-right">-</span></p>
                        </div>
                    </div>
                    <div class="card bg-c-green order-card">
                        <div class="card-body">
                            <h6 class="text-white">Speed</h6>
                            <h2 class="text-right text-white"><i class="feather icon-tag float-left"></i><span><h4 class="sensor2">Sensor :</h4></span></h2>
                            <p class="m-b-0">Car Speed<span class="float-right">m/s</span></p>
                        </div>
                    </div>
                </div>
                <!-- order-card end -->
                <!-- account-section start -->
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header">
                            <h5>Car Feedback</h5>
                            <div class="card-header-right">
                                <div class="btn-group card-option">
                                    <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="feather icon-more-horizontal"></i>
                                    </button>
                                    <ul class="list-unstyled card-option dropdown-menu dropdown-menu-right">
                                        <li class="dropdown-item full-card"><a href="#!"><span><i class="feather icon-maximize"></i> maximize</span><span style="display:none"><i class="feather icon-minimize"></i> Restore</span></a></li>
                                        <li class="dropdown-item minimize-card"><a href="#!"><span><i class="feather icon-minus"></i> collapse</span><span style="display:none"><i class="feather icon-plus"></i> expand</span></a></li>
                                        <li class="dropdown-item reload-card"><a href="#!"><i class="feather icon-refresh-cw"></i> reload</a></li>
                                        <li class="dropdown-item close-card"><a href="#!"><i class="feather icon-trash"></i> remove</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <ul class="feed-blog pl-0">
                                <li class="active-feed">
                                    <div class="feed-user-img">
                                        <img src="/static/assets/images/user/avatar-4.jpg" class="img-radius " alt="User-Profile-Image">
                                    </div>
                                    <h6><span class="badge badge-danger">File</span> Eddie uploaded new files: <small class="text-muted">2 hours ago</small></h6>
                                    <p class="m-b-15 m-t-15">hii <b> @everone</b> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                                    <div class="row">
                                        <div class="col-auto text-center">
                                            <img src="/static/assets/images/gallery-grid/img-grd-gal-1.jpg" alt="img" class="img-fluid wid-100">
                                            <h6 class="m-t-15 m-b-0">Old Scooter</h6>
                                            <p class="text-muted m-b-0"><small>PNG-100KB</small></p>
                                        </div>
                                        <div class="col-auto text-center">
                                            <img src="/static/assets/images/gallery-grid/img-grd-gal-2.jpg" alt="img" class="img-fluid wid-100">
                                            <h6 class="m-t-15 m-b-0">Wall Art</h6>
                                            <p class="text-muted m-b-0"><small>PNG-150KB</small></p>
                                        </div>
                                        <div class="col-auto text-center">
                                            <img src="/static/assets/images/gallery-grid/img-grd-gal-3.jpg" alt="img" class="img-fluid wid-100">
                                            <h6 class="m-t-15 m-b-0">Microphone</h6>
                                            <p class="text-muted m-b-0"><small>PNG-150KB</small></p>
                                        </div>
                                    </div>
                                </li>
                                <li class="diactive-feed">
                                    <div class="feed-user-img">
                                        <img src="/static/assets/images/user/avatar-4.jpg" class="img-radius " alt="User-Profile-Image">
                                    </div>
                                    <h6><span class="badge badge-success">Task</span> Sarah marked the Pending Review: <span class="text-c-green"> Trash Can Icon Design</span><small class="text-muted"> 2 hours ago</small></h6>
                                </li>
                                <li class="diactive-feed mb-0">
                                    <div class="feed-user-img">
                                        <img src="/static/assets/images/user/avatar-4.jpg" class="img-radius " alt="User-Profile-Image">
                                    </div>
                                    <h6><span class="badge badge-primary">comment</span> abc posted a task: <span class="text-c-green">Design a new Homepage</span> <small class="text-muted">6 hours ago</small></h6>
                                    <p class="m-b-15 m-t-15">hii <b> @everone</b> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- account-section end -->
            </div>
            <!-- [ Main Content ] end -->
        </div>
    </div>
    <!-- [ Main Content ] end -->

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script>

    function requestData()
    {
        // Ajax call to get the Data from Flask
        var requests = $.get('/testdata');

        var tm = requests.done(function (result)
        {
            // Add the Point
            // Time carmovement\
            var data1 = [];
            data1.push(result[0]);
            data1.push(result[1]);


            // Add the Point
            // Time speed\
            var data2 = [];
            data2.push(result[0]);
            data2.push(result[2]);

            $(".sensor1").text("");
            $(".sensor1").text( data1[1] );

            $(".sensor2").text("");
            $(".sensor2").text( Math.round(data2[1]) );

            // call it again after one second
            setTimeout(requestData, 10000);

        });
    }

    requestData()
</script>
    <!-- Apex Chart -->
    <script src="/static/assets/js/plugins/apexcharts.min.js"></script>
    <!-- custom-chart js -->
    <script src="/static/assets/js/pages/dashboard-main.js"></script>

{% endblock javascripts %}
